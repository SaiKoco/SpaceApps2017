<html>
<meta http-equiv="Content-Type" content="text/html; charset="LATIN1">
<head>
  <title>Layerswitcher ol3</title>
   <link rel="stylesheet" href="http://openlayers.org/en/v3.4.0/css/ol.css" type="text/css">
	<script src="http://openlayers.org/en/v3.4.0/build/ol.js" type="text/javascript"></script>
	<link rel="stylesheet" href="ol3-layerswitcher-master/src/ol3-layerswitcher.css" type="text/css"/>
	<script src="ol3-layerswitcher-master/src/ol3-layerswitcher.js"></script>
	
	<style>
       #map{
        position: absolute;
		width: 100%;
        height: 100%;
       
      }	
      #leyenda{
      	position: fixed;
      	z-index: 2;
      	
      }
      #botones{
      	z-index: 1;
      }
    </style>
    </head>
    <body onload="mapaBase()">
    	<div id="botones">
	  		<input type="button" value="Riqueza de especies" onclick="riquezas()"/>
	  		<input type="button" value="Habitat - Glaciares permanentes" onclick="habitat()"/>	
	  		<input type="button" value="Habitat - Pino negro mediterraneo" onclick="pinos()"/>	  
	  		<input type="button" value="Rios alpinos - vegetacion herbacea en sus orillas" onclick="rios()"/>
	  		<input type="button" value="Pendientes rocosas calcicolas con vegetacion casmofitica" onclick="rocosas()"/>
	  				
	  	</div>
	  	<div id="leyenda"><img id="imagenLeyenda" /></div>
	  <div id="map">
	  	
	  </div>
	  
      <script>      	
      function riquezas(){
      	document.getElementById('map').innerHTML='';
      	var mapImage = new ol.Map({
                target: 'mapImage',  // The DOM element that will contains the map
                renderer: 'canvas', // Force the renderer to be used
                layers: [
                    new ol.layer.Tile({
                        source: new ol.source.OSM()
                    }),
                    new ol.layer.Image({
                        source: new ol.source.ImageWMS({
                            url: 'http://wms.mapama.es/sig/Biodiversidad/RiquezaEspecies/wms.aspx?',
                            ratio: 1,
                            params: {
                                'LAYER': '0',
                                'TRANSPARENT': 'true'
                            }
                        })
                    })
                ],
                // Create a view centered on the specified location and zoom level
                view: new ol.View({
                    center: ol.proj.transform([2.1833, 41.3833], 'EPSG:4326', 'EPSG:3857'),
                    zoom: 6
                })
            });

            var mapTiles = new ol.Map({
                target: 'map',  // The DOM element that will contains the map
                renderer: 'canvas', // Force the renderer to be used
                layers: [
                    new ol.layer.Tile({
                        source: new ol.source.OSM()
                    }),
                    new ol.layer.Tile({
                        source: new ol.source.TileWMS({
                            url: 'http://wms.mapama.es/sig/Biodiversidad/RiquezaEspecies/wms.aspx?',
                            params: {
                                'LAYERS': '0',
                                'TRANSPARENT': 'true'
                            }
                        })
                    })
                ],
                // Create a view centered on the specified location and zoom level
                view: new ol.View({
                    center: ol.proj.transform([-3, 40], 'EPSG:4326', 'EPSG:3857'),
                    zoom: 6
                })
            });
            document.getElementById("imagenLeyenda").src="riqueza.png";
      }   
      function habitat(){
      	document.getElementById('map').innerHTML='';
      	var mapImage = new ol.Map({
                target: 'mapImage',  // The DOM element that will contains the map
                renderer: 'canvas', // Force the renderer to be used
                layers: [
                    new ol.layer.Tile({
                        source: new ol.source.OSM()
                    }),
                    new ol.layer.Image({
                        source: new ol.source.ImageWMS({
                            url: 'http://wms.magrama.es/sig/Biodiversidad/Habitat8340/wms.aspx',
                            ratio: 1,
                            params: {
                                'LAYER': '0',
                                'TRANSPARENT': 'true'
                            }
                        })
                    })
                ],
                // Create a view centered on the specified location and zoom level
                view: new ol.View({
                    center: ol.proj.transform([2.1833, 41.3833], 'EPSG:4326', 'EPSG:3857'),
                    zoom: 6
                })
            });

            var mapTiles = new ol.Map({
                target: 'map',  // The DOM element that will contains the map
                renderer: 'canvas', // Force the renderer to be used
                layers: [
                    new ol.layer.Tile({
                        source: new ol.source.OSM()
                    }),
                    new ol.layer.Tile({
                        source: new ol.source.TileWMS({
                            url: 'http://wms.magrama.es/sig/Biodiversidad/Habitat8340/wms.aspx',
                            params: {
                                'LAYERS': '0',
                                'TRANSPARENT': 'true'
                            }
                        })
                    })
                ],
                // Create a view centered on the specified location and zoom level
                view: new ol.View({
                    center: ol.proj.transform([-3, 40], 'EPSG:4326', 'EPSG:3857'),
                    zoom: 6
                })
            });
            document.getElementById("imagenLeyenda").src="habitat.png";
      }  	    
      function pinos(){
      	document.getElementById('map').innerHTML='';
      	var mapImage = new ol.Map({
                target: 'mapImage',  // The DOM element that will contains the map
                renderer: 'canvas', // Force the renderer to be used
                layers: [
                    new ol.layer.Tile({
                        source: new ol.source.OSM()
                    }),
                    new ol.layer.Image({
                        source: new ol.source.ImageWMS({
                            url: 'Http://wms.magrama.es/sig/Biodiversidad/Habitat9530/wms.aspx',
                            ratio: 1,
                            params: {
                                'LAYER': '0',
                                'TRANSPARENT': 'true'
                            }
                        })
                    })
                ],
                // Create a view centered on the specified location and zoom level
                view: new ol.View({
                    center: ol.proj.transform([2.1833, 41.3833], 'EPSG:4326', 'EPSG:3857'),
                    zoom: 6
                })
            });

            var mapTiles = new ol.Map({
                target: 'map',  // The DOM element that will contains the map
                renderer: 'canvas', // Force the renderer to be used
                layers: [
                    new ol.layer.Tile({
                        source: new ol.source.OSM()
                    }),
                    new ol.layer.Tile({
                        source: new ol.source.TileWMS({
                            url: 'Http://wms.magrama.es/sig/Biodiversidad/Habitat9530/wms.aspx',
                            params: {
                                'LAYERS': '0',
                                'TRANSPARENT': 'true'
                            }
                        })
                    })
                ],
                // Create a view centered on the specified location and zoom level
                view: new ol.View({
                    center: ol.proj.transform([-3, 40], 'EPSG:4326', 'EPSG:3857'),
                    zoom: 6
                })
            });
            document.getElementById("imagenLeyenda").src="pinos.png";
      }
      
      function rios(){
      	document.getElementById('map').innerHTML='';
      	var mapImage = new ol.Map({
                target: 'mapImage',  // The DOM element that will contains the map
                renderer: 'canvas', // Force the renderer to be used
                layers: [
                    new ol.layer.Tile({
                        source: new ol.source.OSM()
                    }),
                    new ol.layer.Image({
                        source: new ol.source.ImageWMS({
                            url: 'http://wms.mapama.es/sig/Biodiversidad/Habitat3220/wms.aspx?',
                            ratio: 1,
                            params: {
                                'LAYER': '0',
                                'TRANSPARENT': 'true'
                            }
                        })
                    })
                ],
                // Create a view centered on the specified location and zoom level
                view: new ol.View({
                    center: ol.proj.transform([2.1833, 41.3833], 'EPSG:4326', 'EPSG:3857'),
                    zoom: 6
                })
            });

            var mapTiles = new ol.Map({
                target: 'map',  // The DOM element that will contains the map
                renderer: 'canvas', // Force the renderer to be used
                layers: [
                    new ol.layer.Tile({
                        source: new ol.source.OSM()
                    }),
                    new ol.layer.Tile({
                        source: new ol.source.TileWMS({
                            url: 'http://wms.mapama.es/sig/Biodiversidad/Habitat3220/wms.aspx?',
                            params: {
                                'LAYERS': '0',
                                'TRANSPARENT': 'true'
                            }
                        })
                    })
                ],
                // Create a view centered on the specified location and zoom level
                view: new ol.View({
                    center: ol.proj.transform([-3, 40], 'EPSG:4326', 'EPSG:3857'),
                    zoom: 6
                })
            });
            document.getElementById("imagenLeyenda").src="rios.png";
      }   
      function rocosas(){
      	document.getElementById('map').innerHTML='';
      	var mapImage = new ol.Map({
                target: 'mapImage',  // The DOM element that will contains the map
                renderer: 'canvas', // Force the renderer to be used
                layers: [
                    new ol.layer.Tile({
                        source: new ol.source.OSM()
                    }),
                    new ol.layer.Image({
                        source: new ol.source.ImageWMS({
                            url: 'http://wms.mapama.es/sig/Biodiversidad/Habitat8210/wms.aspx?',
                            ratio: 1,
                            params: {
                                'LAYER': '0',
                                'TRANSPARENT': 'true'
                            }
                        })
                    })
                ],
                // Create a view centered on the specified location and zoom level
                view: new ol.View({
                    center: ol.proj.transform([2.1833, 41.3833], 'EPSG:4326', 'EPSG:3857'),
                    zoom: 6
                })
            });

            var mapTiles = new ol.Map({
                target: 'map',  // The DOM element that will contains the map
                renderer: 'canvas', // Force the renderer to be used
                layers: [
                    new ol.layer.Tile({
                        source: new ol.source.OSM()
                    }),
                    new ol.layer.Tile({
                        source: new ol.source.TileWMS({
                            url: 'http://wms.mapama.es/sig/Biodiversidad/Habitat8210/wms.aspx?',
                            params: {
                                'LAYERS': '0',
                                'TRANSPARENT': 'true'
                            }
                        })
                    })
                ],
                // Create a view centered on the specified location and zoom level
                view: new ol.View({
                    center: ol.proj.transform([-3, 40], 'EPSG:4326', 'EPSG:3857'),
                    zoom: 6
                })
            });
            document.getElementById("imagenLeyenda").src="rocosas.png";
      } 
      function mapaBase(){
      var map = new ol.Map({
                target: 'map',  // The DOM element that will contains the map
                renderer: 'canvas', // Force the renderer to be used
                layers: [
                    // Add a new Tile layer getting tiles from OpenStreetMap source
                    new ol.layer.Tile({
                        source: new ol.source.OSM()
                    })
                ],
                // Create a view centered on the specified location and zoom level
                view: new ol.View({
                    center: ol.proj.transform([-3, 40], 'EPSG:4326', 'EPSG:3857'),
                    zoom: 6
                })
            });
      }
      
      
      </script>
</body>
</html>